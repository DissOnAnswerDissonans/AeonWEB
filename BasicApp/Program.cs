using Aeon.Core;
using DrawingCLI;
using System;

namespace Aeon.BasicApp
{
	internal class Program
	{
		public static readonly Colors[] PlayerColors  = new Colors[] {
			new() { Color = ConsoleColor.Blue, BGColor = ConsoleColor.Black },
			new() { Color = ConsoleColor.DarkYellow, BGColor = ConsoleColor.Black }
		};

		private static void Main(string[] args)
		{
			Console.SetBufferSize(80, 25);
			Console.SetWindowSize(80, 25);
			Console.Title = "Aeon";

			Console.ResetColor();
			Print.Pos(3, 1, "Hello Aeon!");
			DrawTitle();
			Console.ReadKey();

			PickPresenter pick = new();

			var player1 = new Player(pick.PickHero(0));
			var player2 = new Player(pick.PickHero(1));

			var game = new Game(player1, player2);
			ShopPresenter shop = new(game);
			BattlePresenter battle = new(game);

			while (game.WinStatus == Game.WinCond.Undecided) {
				shop.EnterShopRoutine(1);
				shop.EnterShopRoutine(2);
				battle.StartBattle();
			}

			Console.Clear();
			Console.WriteLine($"Winner: {game.WinStatus}");
			Console.Write("Goodbye Aeon!");
		}

		public static void DrawTitle()
		{
			ColorPic pic = new(64, 8, title2_64x8);
			pic.DrawIn(8, 6);
		}

		private static readonly byte[] title1_28x4 = new byte[] { 0, 0, 144, 144, 144, 16, 0, 0, 144, 144, 144, 144, 144, 16, 0,
				0, 144, 144, 144, 16, 0, 0, 144, 16, 0, 0, 144, 16, 0, 153, 17, 0, 0, 153, 17, 0, 153,
				17, 0, 0, 0, 0, 0, 153, 17, 0, 0, 153, 17, 0, 153, 145, 16, 0, 153, 17, 0, 153, 25, 9,
				9, 153, 17, 0, 153, 25, 9, 9, 9, 1, 0, 153, 17, 0, 0, 153, 17, 0, 153, 17, 9, 145, 153,
				17, 0, 153, 17, 0, 0, 153, 17, 0, 153, 145, 144, 144, 144, 16, 0, 9, 145, 144, 144, 25,
				1, 0, 153, 17, 0, 0, 153, 17, 0, 0, 0, 0 };
		private static readonly byte[] title2_64x8 = new byte[] { 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
			0, 0, 0, 96, 96, 96, 96, 96, 96, 96, 96, 96, 96, 0, 0, 0, 0, 0, 0, 64, 64,
			64, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
			0, 0, 0, 0, 0, 0, 0, 16, 177, 187, 187, 176, 0, 0, 0, 0, 0, 0, 0, 96, 230,
			238, 238, 238, 238, 238, 238, 238, 14, 14, 14, 0, 0, 0, 0, 64, 196, 204, 204,
			204, 170, 170, 170, 162, 32, 0, 0, 0, 0, 221, 221, 213, 80, 0, 0, 0, 13, 221,
			221, 213, 80, 0, 0, 0, 0, 0, 0, 0, 0, 0, 17, 187, 187, 11, 27, 187, 187, 0, 0,
			0, 0, 0, 96, 230, 238, 238, 14, 14, 0, 0, 0, 0, 0, 0, 0, 0, 0, 64, 196, 204,
			204, 12, 0, 0, 0, 0, 10, 170, 170, 162, 32, 0, 0, 221, 221, 221, 221, 213, 80,
			0, 0, 0, 13, 221, 221, 85, 0, 0, 0, 0, 0, 0, 0, 17, 187, 187, 11, 0, 1, 27,
			187, 187, 0, 0, 0, 0, 102, 238, 238, 238, 230, 230, 230, 230, 96, 0, 0, 0, 0,
			0, 0, 68, 204, 204, 64, 64, 64, 0, 0, 160, 160, 160, 170, 170, 34, 0, 0, 221,
			221, 93, 221, 221, 221, 213, 80, 0, 0, 221, 221, 85, 0, 0, 0, 0, 0, 0, 16,
			177, 187, 187, 176, 176, 176, 177, 187, 187, 176, 0, 0, 0, 102, 238, 238, 238,
			238, 238, 238, 238, 14, 0, 0, 0, 0, 0, 0, 68, 204, 204, 204, 204, 204, 15, 15,
			42, 42, 42, 170, 170, 34, 0, 0, 221, 221, 85, 0, 13, 221, 221, 221, 213, 80,
			221, 221, 85, 0, 0, 0, 0, 0, 0, 17, 187, 187, 11, 11, 11, 11, 11, 27, 187,
			187, 0, 0, 0, 102, 238, 238, 238, 96, 96, 0, 0, 0, 0, 0, 0, 0, 0, 0, 68, 204,
			204, 192, 0, 0, 0, 0, 0, 0, 160, 170, 170, 34, 0, 0, 221, 221, 85, 0, 0, 0,
			13, 221, 221, 221, 221, 221, 85, 0, 0, 0, 0, 0, 16, 177, 187, 187, 176, 0, 0,
			0, 16, 177, 187, 187, 176, 0, 0, 0, 102, 238, 238, 238, 238, 230, 230, 230,
			230, 96, 96, 96, 0, 0, 0, 4, 76, 204, 204, 192, 192, 160, 160, 170, 170, 42,
			2, 0, 0, 0, 13, 221, 221, 213, 80, 0, 0, 0, 13, 221, 221, 221, 85, 0, 0, 0,
			0, 0, 1, 11, 11, 11, 11, 0, 0, 0, 1, 11, 11, 11, 11, 0, 0, 0, 0, 6, 14, 14,
			14, 14, 14, 14, 14, 14, 14, 14, 0, 0, 0, 0, 0, 4, 12, 12, 12, 42, 42, 42, 2,
			0, 0, 0, 0, 0, 0, 0, 13, 13, 13, 5, 0, 0, 0, 0, 13, 13, 5, 0, 0, 0, 0, 0 };

	}
}
